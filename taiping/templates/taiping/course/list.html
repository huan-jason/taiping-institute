{% extends "taiping/base.html" %}


{% block header %}
<section class="d-flex mt-3">
    {% if not user.is_authenticated %}
    <a href="/accounts/login/?next=/" type="button" class="btn btn-outline-secondary rounded-pill ms-auto me-3">
        Sign in
    </a>
    {% endif %}
</section>
{% endblock header %}


{% block content %}
<style>
    #courses-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, 50ch);
        gap: 2em;
        justify-content: center;

        margin-top: 2em;

        .course-card {
            display: grid;
            grid-template-rows: 1fr auto;
            padding: 1em 2em;
            padding-bottom: 0.5em;
            border: solid thin var(--stone-4);
            border-radius: 1em;
            box-shadow: 5px 5px 5px var(--stone-3);

            &:hover {
                background-color: white;
            }

            .button--footer {
                border-radius: 100em;
                padding-inline: 1.5em;
            }
        }
    }
</style>


<div class="container">

    <h4 class="text-center mt-5">Agojin Courses</h4>

    <div id="courses-container">

        {% for item in courses %}
        <div class="course-card">

            <div class="course-card-body">
                <h4 class="course-card-title">{{ item.name }}</h4>
                <p class="course-card-text mt-3">
                    {{ item.short_description_md | default:item.description_md | safe }}
                </p>
            </div>

            <div class="d-flex justify-content-around align-items-center py-3">
                <a href="/course/{{ item.id }}/" class="btn btn-outline-secondary button--footer">Details</a>
                <a href="/course/{{ item.id }}/register/" class="btn btn-primary button--footer">Register</a>
            </div>

        </div>
        {%  endfor %}

    </div>


</div>
{% endblock content %}